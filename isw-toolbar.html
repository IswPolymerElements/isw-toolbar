<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">

<!--
`isw-toolbar`
Material Design Polymer 2.0 Toolbar.

@demo demo/index.html
-->

<dom-module id="isw-toolbar">
	<template>
		<style>
			:host {
				display: block;
				color: var(--dark-theme-text-color);
				background: var(--primary-color);
				font-size: 20px;
			}


			.row {
				@apply --layout-horizontal;
				@apply --layout-center;
				height: 56px;
			}

			:host([metrics="tablet"]) .row {
				height: 64px;
			}


			.nav-icon {
				width: 40px;
				margin: 0 8px;
			}

			:host([metrics="tablet"]) .nav-icon {
				margin: 0 8px 0 16px;
			}


			.top.row .content {
				@apply --layout-flex;
				margin: 0 16px;
			}


			.middle.row,
			.bottom.row {
				padding: 0 16px 0 72px;
			}

			:host([metrics="tablet"]) .middle.row,
			:host([metrics="tablet"]) .bottom.row {
				padding: 0 16px 0 80px;
			}


			.action-icon {
				margin: 0 8px;
			}

			:host([metrics="tablet"]) .action-icon {
				margin: 0 16px 0 8px;
			}


			::slotted(paper-fab) {
				position: absolute;
				bottom: -28px;
				left: 16px;
			}

			::slotted(paper-fab[mini]) {
				bottom: -20px;
			}

			:host([metrics="tablet"]) ::slotted(paper-fab) {
				left: 24px;
			}


			[hidden] {
				display: none;
			}
		</style>

		<div class="top row">
			<div class="nav-icon">
				<slot name="nav-icon"></slot>
			</div>

			<div class="content">
				<slot name="top-row"></slot>
			</div>

			<div class="action-icon">
				<slot name="action-icon"></slot>
			</div>
		</div>

		<div class="middle row" hidden="[[_middleRowHidden(rows)]]">
			<slot name="middle-row"></slot>
		</div>

		<div class="bottom row" hidden="[[_bottomRowHidden(rows)]]">
			<slot name="bottom-row"></slot>
		</div>

		<slot name="fab"></slot>
	</template>

	<script>
		class IswToolbar extends Polymer.Element {
			static get is() {
				return 'isw-toolbar';
			}

			static get properties() {
				return {
					/**
					 * The number of rows that should be displayed (1-3).
					 */
					rows: {
						type: Number,
						notify: true,
						value: 1
					},
					/**
					 * The metrics that should be uses. Either "mobile" or "tablet".
					 * Combine with iron-resizable-behavior for responsive toolbar.
					 */
					metrics: {
						type: String,
						notify: true,
						reflectToAttribute: true,
						value: 'mobile'
					}
				};
			}

			/**
			 * Calculates if middle row is hidden.
			 */
			_middleRowHidden( rows ) {
				return rows < 2;
			}

			/**
			 * Calculates if bottom row is hidden.
			 */
			_bottomRowHidden( rows ) {
				return rows < 3;
			}
		}

		window.customElements.define( IswToolbar.is, IswToolbar );
	</script>
</dom-module>
